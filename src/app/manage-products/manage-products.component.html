<style>
  [type="file"]::file-selector-button {
    border: 0;
    padding: 8px 16px;
    margin-right: 8px;
    color: rgb(107, 117, 148);
  }
</style>

<div class="w-full px-4 sm:px-20 xl:px-40 pt-16 py-4 sm:py-10 flex flex-col gap-8 justify-start items-start content-center">
  <form [formGroup]="checkoutForm" class="w-full grid grid-cols-1 sm:grid-cols-2 gap-4 justify-start">
    <div class="block">
      <label class="" for="name">Product Name</label>
      <input class="mt-1 block w-full border border-gray-400" type="text" formControlName="name" id="name" placeholder="Enter product name" />
    </div>
    <div class="block">
      <label class="" for="price">Price</label>
      <input class="mt-1 block w-full border border-gray-400" type="number" formControlName="price" id="price" placeholder="Enter Price" />
    </div>
    <div class="block">
      <label class="" for="description">Product description <span class="text-gray-500">(optional)</span></label>
      <textarea class="mt-1 block w-full border border-gray-400" formControlName="description" id="description" cols="30" rows="3" placeholder="Enter description"></textarea>
    </div>
    <div class="block">
      <label class="" for="imgUrl">Product image <span class="text-gray-500">(optional)</span></label>
      <input class="mt-1 block w-full border border-gray-400 text-gray-500" type="file" (change)="onUploadChange($event)" id="imgUrl" />
    </div>
  </form>
  <button (click)="addProduct()" class="bg-sky-400 hover:bg-sky-500 text-white px-4 py-2 shadow-md">Add Product</button>
  <div class="w-full overflow-x-scroll">
    <table class="table-auto min-w-[720px]">
      <thead>
        <th class="border-b border-t border-gray-200 font-bold py-1 lg:py-4 px-2 lg:px-8 text-gray-800 text-left"></th>
        <th class="border-b border-t border-gray-200 font-bold py-1 lg:py-4 px-2 lg:px-8 text-gray-800 text-left">Name</th>
        <th class="border-b border-t border-gray-200 font-bold py-1 lg:py-4 px-2 lg:px-8 text-gray-800 text-left">Description</th>
        <th class="border-b border-t border-gray-200 font-bold py-1 lg:py-4 px-2 lg:px-8 text-gray-800 text-left">Price</th>
        <th class="border-b border-t border-gray-200 font-bold py-1 lg:py-4 px-2 lg:px-8 text-gray-800 text-left sticky -right-[1px] bg-white"></th>
      </thead>
      <tbody>
        <tr *ngFor="let product of products | async">
          <td class="border-b border-gray-200 py-1 lg:py-4 px-2 lg:px-4">
            <img class="w-max aspect-square h-12 min-w-[3rem]" [src]="product.imgUrl" alt="placeholder image" />
          </td>
          <td class="border-b border-gray-200 py-1 lg:py-4 px-2 lg:px-4">
            <h1 class="w-max">{{ product.name }}</h1>
          </td>
          <td class="border-b border-gray-200 py-1 lg:py-4 px-2 lg:px-4">
            <h1>{{ product.description }}</h1>
          </td>
          <td class="border-b border-gray-200 py-1 lg:py-4 px-2 lg:px-4">
            <h1 class="w-max">{{ product.price }}:-SEK</h1>
          </td>
          <td class="border-b border-gray-200 py-1 lg:py-4 px-2 lg:px-8 sticky -right-[1px] bg-white">
            <button (click)="removeProduct(product.id)" class="text-sky-500 hover:text-sky-600 hover:shadow-sm">Remove</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
